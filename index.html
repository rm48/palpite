<!DOCTYPE html>
<html lang="pt_BR">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Palpite</title>	
	<style>
		body{background:  black ;
			background-repeat: no-repeat;
			background-size: 360px auto;
			width: 360px;
		}
			
		#divDica {	background:  black ;
			max-width: 400px;
  			font-family: "Lucida Console", "Courier New", monospace;
  			font-size:22px;	
  			color: #fff;
		}
		#divBotões 
		{ 
			max-width: 400px;
		}	
		.botão {
			width: 54px;
			height: 48px;
			font-size: 24px;
			margin: 2px 0px;
			/*white-space: normal;*/
			display: inline-block;
		}	
		.gameover {
			background-color: red;		
			color: rgb(255, 255, 255);

		}
		.segredo {
			background-color: rgb(238, 255, 0);
			color: rgb(0, 0, 0);
			border-style: solid;
			border-width: medium;
		}
		.transparente {
			opacity: 0;
		}

	</style>
</head>

<body>
	<div id="divDica">		
	</div>

	<div id="divBotões">
		<button class="botão" value="1">1</button>
		<button class="botão" value="2">2</button>
		<button class="botão" value="3">3</button>
		<button class="botão" value="4">4</button>
		<button class="botão" value="5">5</button>
		<button class="botão" value="6">6</button>
		<button class="botão" value="7">7</button>
		<button class="botão" value="8">8</button>
		<button class="botão" value="9">9</button>
		<button class="botão" value="10">10</button>
		<button class="botão" value="11">11</button>
		<button class="botão" value="12">12</button>
		<button class="botão" value="13">13</button>
		<button class="botão" value="14">14</button>
		<button class="botão" value="15">15</button>
		<button class="botão" value="16">16</button>
		<button class="botão" value="17">17</button>
		<button class="botão" value="18">18</button>
		<button class="botão" value="19">19</button>
		<button class="botão" value="20">20</button>
		<button class="botão" value="21">21</button>
		<button class="botão" value="22">22</button>
		<button class="botão" value="23">23</button>
		<button class="botão" value="24">24</button>
		<button class="botão" value="25">25</button>
		<button class="botão" value="26">26</button>
		<button class="botão" value="27">27</button>
		<button class="botão" value="28">28</button>
		<button class="botão" value="29">29</button>
		<button class="botão" value="30">30</button>
		<button class="botão" value="31">31</button>
		<button class="botão" value="32">32</button>
		<button class="botão" value="33">33</button>
		<button class="botão" value="34">34</button>
		<button class="botão" value="35">35</button>
		<button class="botão" value="36">36</button>
		<button class="botão" value="37">37</button>
		<button class="botão" value="38">38</button>
		<button class="botão" value="39">39</button>
		<button class="botão" value="40">40</button>
		<button class="botão" value="41">41</button>
		<button class="botão" value="42">42</button>
		<button class="botão" value="43">43</button>
		<button class="botão" value="44">44</button>
		<button class="botão" value="45">45</button>
		<button class="botão" value="46">46</button>
		<button class="botão" value="47">47</button>
		<button class="botão" value="48">48</button>
		<button class="botão" value="49">49</button>
		<button class="botão" value="50">50</button>
		<button class="botão" value="51">51</button>
		<button class="botão" value="52">52</button>
		<button class="botão" value="53">53</button>
		<button class="botão" value="54">54</button>
		<button class="botão" value="55">55</button>
		<button class="botão" value="56">56</button>
		<button class="botão" value="57">57</button>
		<button class="botão" value="58">58</button>
		<button class="botão" value="59">59</button>
		<button class="botão" value="60">60</button>
	</div>

	<script>
		let novaCor = 0;
		let terminou = 0;
		let tela = 1;
		mudarTela();
		let chance = 12;
		let estrelas = "**********";
		let stringDica = document.getElementById("divDica");
		stringDica.innerHTML = "Tela " + tela + " | " + estrelas + chance;
		let ativos = [];
		let arrayBotões = document.getElementsByClassName("botão");
		registrarAtivos();

		function registrarAtivos(){
			for (let i = 0; i <  arrayBotões.length;  i++){
				ativos[i] = i+1;
			}
		}

		let segredo = Math.floor(Math.random()*arrayBotões.length) + 1;		
		// 		console.log("segredo=",segredo);
		let palpite = 0;
		for (let i = 0; i < arrayBotões.length; i++) {			
			arrayBotões[i].addEventListener("click", function() {			
				if (terminou){
					if(!chance)
						window.location.reload();
					else if (tela == 23){
						tela = 0;
						chance=chance+5;
						alert("Parabéns!!!\nVocê chegou à tela final!");
						estrelas = estrelas +"*****";
						stringDica.innerHTML = "(Bônus)"+ tela + " | " + estrelas + chance;;
					}
					else {
						tela++;
						chance=chance+3;			
						estrelas = estrelas +"***";
						stringDica.innerHTML = "Tela "+ tela + " | " + estrelas + chance;
					}
					terminou = 0;
					mudarTela();
					arrayBotões[palpite-1].classList.remove("segredo");
					sortear();
					ativar();
					registrarAtivos();
				}
				else{
				palpite = parseInt(this.value);
				comparar(palpite);
				desativar();
				}							
			});
		}

		function desativar() {
			for (let i = 0; i < arrayBotões.length; i++) {		
				if(novaCor){
					arrayBotões[i].disabled=true;					
					if (!chance){
						arrayBotões[palpite-1].classList.add("gameover");
					}													
					arrayBotões[segredo-1].disabled=false;
					arrayBotões[segredo-1].classList.add("segredo");								
					terminou=1;
				}											
				else if(!ativos.includes(parseInt(arrayBotões[i].value))){
					arrayBotões[i].disabled=true;
					arrayBotões[i].classList.add("transparente");				
				}			
			}
			novaCor=0;
			//			console.log(ativos);
		}

		function sortear(){
			segredo = Math.floor(Math.random()*50) + 1;
			//			console.log("segredo=",segredo);
		}

		function ativar() {
			for (let i = 0; i < arrayBotões.length; i++) {	
				arrayBotões[i].disabled=false;
				arrayBotões[i].classList.remove("transparente");		
			}
		}

		function comparar(palpite){					
			if(palpite < segredo){
				chance--;
				estrelas = estrelas.substring(0, estrelas.length -1);
				if (chance == 0){
					stringDica.innerHTML = "Game Over! " + estrelas + chance;
					novaCor = 1;
				}
				else {
					stringDica.innerHTML = "Tela "+ tela + " > " + estrelas + chance;
				}
				var index = ativos.indexOf(palpite);
				//remove do início até a posição do palpite
				ativos.splice(0,index+1);
								
			}else if(palpite > segredo){
				chance--;
				estrelas = estrelas.substring(0, estrelas.length -1);
				if (chance == 0){
					stringDica.innerHTML = "Game Over! " + estrelas + chance;
					novaCor = 1;
				}
				else {
					stringDica.innerHTML = "Tela "+ tela + " < " + estrelas + chance;
				}
				var index = ativos.indexOf(palpite);
				//remove da posição do palpite até o final
				ativos.splice(index);					
			}	
			else if(palpite == segredo){	
					arrayBotões[palpite-1].classList.add("segredo");
					novaCor = 1;				
			}	
		}

		function mudarTela(){
			switch (tela){		
				case 1:			
				document.body.style.backgroundImage = "url('https://64.media.tumblr.com/680a8ecc1434638c7372c895b425f98b/ea1c59ab2242365e-5b/s2048x3072/378cbd9cd5abb0ce742002568279e3e4ff3e48d9.jpg')";
				break;	
				case 2:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/5d8979c6daf4688dce6f4213b75fa37f/debb76131f5117af-3c/s1280x1920/efea0f4f9aababef184c13005b23e16c0c57c1a1.jpg')";
				break;
				case 3:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/deee4d0dc88b3f12cc9c55b2bc7a2707/ea1c59ab2242365e-4c/s2048x3072/fd9f57e0c92412c3263e5f6647accf5a819dc30e.jpg')";
				break;
				case 4:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/db55d2353fb4232881b6fe5c21a86c4b/9d5d1790477ef735-a4/s2048x3072/6843e5b54257a277e49064cd88127cdc62c27ceb.jpg')";		
				break;
				case 5:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/b75c2a880f89ac1fcdccca103f84d2de/9d5d1790477ef735-21/s2048x3072/dc285103ff72d8c710b15e66b07e99cda5cfb2b8.jpg')";
				break;
				case 6:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/be72e4346c458885ad6169c6e140defb/9d5d1790477ef735-d4/s2048x3072/8bb8b4ce871cc094fb9ace5fb99fe44191c458c4.jpg')";
				break;
				case 7:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/3ddb53a1dadafc19c6efcc6fc4438368/0a93e674ca89c780-2c/s1280x1920/4b11a039ffaf3139fc2b104247a502d0092ceca6.jpg')";
				break;
				case 8:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/903daecf79203546792d287e0fb1d595/tumblr_ozoosyF2Ul1rel9soo1_540.jpg')";
				break;
				case 9:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/8d415a0281c2824bd9d9706c14554b96/tumblr_od9e2qwEIe1rel9soo1_540.jpg')";
				break;
				case 10:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/0660fb17b94f359a474d4a40bcba0179/tumblr_o5eud9U0kq1rel9soo1_540.jpg')";
				break;
				case 11:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/0a70d8b8cecc1baf63d3484f8b50bbc1/tumblr_phpdzvzAON1rel9soo1_1280.jpg')";
				break;
				case 12:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/cd527711c0b14b00ea87b91b74e00f67/862b03318142c00e-4b/s1280x1920/4bcf1b215ad029907bd6b5eec79d8da3cb2e1f26.jpg')";
				break;
				case 13:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/31027fe2bfee8a1824e7555a9971597c/d748aac14a957420-bf/s1280x1920/9f5832a6b00254526ad73ca5dae2d973c65b70ca.jpg')";
				break;
				case 14:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/3a71433c3f4562f8deaefacb7a762f26/a464850cb9361efc-cd/s540x810/5ed60f4e8064623a833c6e73f63c66be77fb50b0.jpg')";
				break;
				case 15:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/4a0326ab2974950c074255021190a772/97f37a73727bd9d5-e0/s1280x1920/5dc78f022e16566d8f04d67a7444ac64521bc8d3.jpg')";
				break;
				case 16:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/1e51f87e7d8a723766fd12a43fd0c843/33a1eca73bcb47e6-16/s2048x3072/0a565457b26c85148f9fee2b5ea1166c10f20974.jpg')";
				break;
				case 17:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/7dbf57f4afd9f9a6b6e193f517a741ac/ee04a7c807f0ebc7-79/s2048x3072/4b9fe553c4ae50813514b02946d8e83c625bc128.jpg')";
				break;
				case 18:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/2329ea8b7e5e2d366b36de51330bb1bd/6c2dd74f2720c9fa-29/s400x600/b184d2bbd6348e60b4d51bb3eb8c578527cafd59.gifv')";
				break;
				case 19:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/f3d6ab14d303992a067bd05e65999c5a/06eef754acece590-41/s500x750/26751f854b851d99a140f8f9b1b0de07e6da8149.gifv')";
				break;
				case 20:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/07dd33b7f95d5ea312e23ffad39bb364/45a0f3ecfc5a3b5b-5a/s400x600/13d976552f0851e9be343cf18a4eeb8504da72c1.gifv')";
				break;
				case 21:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/fd8d060c701096aed3ec2591a0be7e19/tumblr_pa4u2xFk8S1rel9soo1_1280.jpg')";
				break;
				case 22:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/6bfba0e470ce2e1f46aa1cc81a46bf51/5a267a918fa06013-4c/s2048x3072/22c78e47b2a9c18c25ab9a9930e5c5e4fb1f46bf.pnj')";
				break;
				case 23:
				document.body.style.backgroundImage="url('https://64.media.tumblr.com/fdaf8b7c16692cd62097438b6ef5afa1/26cf23a30e6e24ae-1c/s1280x1920/1675320243796f7a8c8086867abaa36022b61ee4.pnj')";
				break;
				default:
				document.body.style.backgroundImage = "url('https://64.media.tumblr.com/0313d45992c7ebb6c8239aac06abd851/5608a138e3593af2-71/s1280x1920/edafec4f5aa31912b44bb01df9817652b509ef06.jpg')";
				//document.body.style.backgroundImage="url('https://64.media.tumblr.com/fd8d060c701096aed3ec2591a0be7e19/tumblr_pa4u2xFk8S1rel9soo1_1280.jpg')";
			}
		}	
	</script>
</body>
</html>
